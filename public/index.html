<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="shortcut icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, shrink-to-fit=no, user-scalable=no"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Almendra|Space+Mono|Vesper+Libre&subset=latin-ext"
      rel="stylesheet"
    />

    <style>
      *,
      * * {
        box-sizing: border-box;
      }
      html,
      body {
        margin: 0;
        padding: 0;
      }
      html {
        -moz-osx-font-smoothing: grayscale;
        -webkit-font-smoothing: antialiased;
        font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
      }
      body,
      #dd-root {
        align-items: center;
        display: grid;
        grid-template-columns: 1fr;
        grid-template-rows: 1fr;
        justify-items: center;
      }
      body {
        background-color: black;
        color: #eee;
        font-family: "Vesper Libre", Garamond, Georgia, serif;
        height: 100%;
        min-height: 100vh;
        width: 100%;
      }
      ::selection {
        background-color: crimson;
        color: white;
      }
      button,
      dd,
      dl,
      dt,
      h1,
      h2,
      h3,
      h4,
      h5,
      h6,
      p {
        font-size: inherit;
        font-weight: normal;
        line-height: inherit;
        margin: 0;
        padding: 0;
      }
      a,
      button {
        color: inherit;
        cursor: pointer;
      }
      button:disabled {
        cursor: default;
      }
      .dd__browser-details {
        padding-top: 1.6rem;
        width: 100%;
      }
      .dd__browser-features {
        padding: 0;
        padding-left: 1rem;
      }
      .dd__browser-feature.dd__browser-feature--supported {
        color: gray;
        opacity: 0.6;
      }
      .dd__browser-feature.dd__browser-feature--supported:after {
        content: "\2713";
      }
      .dd__browser-feature.dd__browser-feature--not-supported {
        color: crimson;
      }
      .dd__setup {
        display: block;
        line-height: 1.3;
        max-width: 40ch;
        min-width: 30vw;
        padding: 1rem;
        text-align: center;
        width: 100%;
      }
      .dd__setup.dd__setup--hidden {
        display: none;
      }
      .dd__setup__content {
        text-align: left;
      }
      .dd__setup__content p + p {
        text-indent: 1em;
      }
      .dd__setup__progress {
        -webkit-appearance: none;
        appearance: none;
        background-color: #eee;
        border: none;
        display: block;
        margin-top: 1.6rem;
        width: 100%;
      }
      .dd__setup__progress::-webkit-progress-bar {
        background-color: #eee;
      }
      .dd__setup__progress::-webkit-progress-value {
        background-color: #333;
      }
      .dd__setup__progress::-moz-progress-bar {
        background-color: #333;
      }
      .dd__setup__recommended-browsers {
        display: block;
        padding: 0.4rem;
        text-align: center;
      }
      .dd__setup__recommended-browsers__browser {
        display: inline-block;
        padding: 0.6rem;
      }
    </style>

    <title>Personal Idol</title>
  </head>
  <body>
    <div class="js-dd-pending" id="dd-root">
      <noscript class="dd__noscript">
        <div class="dd__setup dd__setup--error">
          <p class="dd__setup__error-message">
            You need to enable JavaScript to run this application.
          </p>
          <p>
            <a href="https://www.wikihow.com/Enable-JavaScript">
              How do I enable JavaScript?
            </a>
          </p>
        </div>
      </noscript>
      <div class="dd__setup dd__setup--hidden" id="dd-root-loader">
        Checking browser capabilities...
        <progress class="dd__setup__progress" id="dd-capabilities-progress">70%</progress>
      </div>
      <div class="dd__setup dd__setup--error dd__setup--hidden" id="dd-root-error">
        <div class="dd__setup__content">
          <strong class="dd__setup__error-message">
            Your browser is not capable of running this application.
          </strong>
          <p>
            I am using latest web development technologies to provide the most optimal and safe experience possible (or
            at least the best possible for me to provide ðŸ™‚). I want to do that without using any kind of coding tricks
            or polyfills to overcome browser limitations (or at least keep them at minimum) and instead to rely on
            native browser features.
          </p>
          <p>
            Thanks to that I also want to make sure that the app will be experienced under optimal conditions and never
            in a degraded state.
          </p>
          <p>
            Sorry for not letting you try to run this app nonetheless, but I am completely sure that without those
            required features it will break anyway.
          </p>
          <p>It is recommended to use the <strong>latest</strong> version of any of these browsers:</p>
          <nav class="dd__setup__recommended-browsers">
            <a class="dd__setup__recommended-browsers__browser" href="https://www.google.com/chrome/">
              <img src="https://cdnjs.cloudflare.com/ajax/libs/browser-logos/58.1.3/chrome/chrome_64x64.png" />
            </a>
            <a class="dd__setup__recommended-browsers__browser" href="https://www.mozilla.org/en-US/firefox/">
              <img src="https://cdnjs.cloudflare.com/ajax/libs/browser-logos/58.1.3/firefox/firefox_64x64.png" />
            </a>
            <a class="dd__setup__recommended-browsers__browser" href="https://www.apple.com/lae/safari/">
              <img src="https://cdnjs.cloudflare.com/ajax/libs/browser-logos/58.1.3/safari/safari_64x64.png" />
            </a>
          </nav>
          <p>
            If your are not interested in using any of the above, you can always pick your own browser, but it has to
            fully support those technical features:
          </p>
          <details class="dd__browser-details">
            <p>
              âœ“ - your current browser supports this one
            </p>
            <p>
              Click feature name for more info.
            </p>
            <ul class="dd__browser-features">
              <li class="dd__browser-feature" id="browser-feature-flexbox">
                <a href="https://caniuse.com/#feat=flexbox">
                  CSS Flexible Box Layout Module (for UI rendering)
                </a>
              </li>
              <li class="dd__browser-feature" id="browser-feature-cssgrid">
                <a href="https://caniuse.com/#feat=css-grid">
                  CSS Grid Layout (for UI rendering)
                </a>
              </li>
              <li class="dd__browser-feature" id="browser-feature-customelements">
                <a href="https://caniuse.com/#feat=mdn-api_window_customelements">
                  Custom Elements (for 3D scene rendering)
                </a>
              </li>
              <li class="dd__browser-feature" id="browser-feature-es5">
                <a href="https://caniuse.com/#feat=es5">
                  ECMAScript 5 (coding features)
                </a>
              </li>
              <li class="dd__browser-feature" id="browser-feature-es6">
                <a href="https://caniuse.com/#feat=es6">
                  ECMAScript 6 (coding features)
                </a>
              </li>
              <li class="dd__browser-feature" id="browser-feature-fetch">
                <a href="https://caniuse.com/#feat=fetch">
                  Fetch (coding feature)
                </a>
              </li>
              <li class="dd__browser-feature" id="browser-feature-intl">
                <a href="https://caniuse.com/#feat=mdn-javascript_builtins_intl">
                  Intl (browser extension for internationalization)
                </a>
              </li>
              <li class="dd__browser-feature" id="browser-feature-passiveeventlisteners">
                <a href="https://caniuse.com/#feat=passive-event-listener">
                  Passive event listeners (coding feature)
                </a>
              </li>
              <li class="dd__browser-feature" id="browser-feature-promises">
                <a href="https://caniuse.com/#feat=promises">
                  Promises (coding feature)
                </a>
              </li>
              <li class="dd__browser-feature" id="browser-feature-serviceworker">
                <a href="https://caniuse.com/#search=serviceworker">
                  Service Workers (for progressive web apps and offline caching)
                </a>
              </li>
              <li class="dd__browser-feature" id="browser-feature-srcset">
                <a href="https://caniuse.com/#search=srcset">
                  Srcset and sizes attributes (for image loading optimization)
                </a>
              </li>
              <li class="dd__browser-feature" id="browser-feature-webworkers">
                <a href="https://caniuse.com/#feat=webworkers">
                  Web Workers (for performance)
                </a>
              </li>
              <li class="dd__browser-feature" id="browser-feature-webgl">
                <a href="https://caniuse.com/#feat=webgl">
                  WebGL (for 3D scene rendering)
                </a>
              </li>
              <li class="dd__browser-feature" id="browser-feature-webrtc">
                <a href="https://caniuse.com/#feat=rtcpeerconnection">
                  WebRTC (for P2P chat between players)
                </a>
              </li>
            </ul>
          </details>
        </div>
      </div>
    </div>
    <script>
      (function() {
        // this one is here to make sure that setup contents is shown only to
        // users that have JavaScript enabled
        document.getElementById("dd-root-loader").classList.remove("dd__setup--hidden");
      })();
    </script>

    <script src="%PUBLIC_URL%/vendor/modernizr.js"></script>
    <script src="%PUBLIC_URL%/setup.js"></script>
  </body>
</html>
