# .knows(fact.aliased(''))

dialogue:
  start:
    - include: GREETING

  sections:
    GREETING:

      - actor: character.aliased('VOLO')
        condition: not this.actor.knows(character.player().name)
        # label: 'Greetings stranger.'
        label: translate('dialogue-00000001-welcome.VOLO.GREETING.not_knows_player_name')
        action: this.actor.tell(dialogue.characters, message.vocal(this.label))

      - actor: character.aliased('VOLO')
        condition: this.actor.knows(character.player().name)
        # label: 'Greetings ' ~ character.player().name ~ '.'
        label: translate('dialogue-00000001-welcome.VOLO.GREETING.knows_player_name')
        action: this.actor.tell(dialogue.characters, message.vocal(this.label))

      - actor: character.aliased('VOLO')
        label: >
          '
            How can the old chap ' ~ this.actor.name ~ '
            help you in your journeys?
          '
        action:
          - this.actor.tell(dialogue.characters, message.vocal(this.label))
          - character.player().learn(this.actor.name)

        feedback:

          - options:

            - actor: character.player()
              condition: not this.actor.knows(character.aliased('VOLO').role)
              label: >
                '
                  Nice to meet you stranger. My name is
                  ' ~ this.actor.name ~ '. May I ask what you do for a living?
                '
              action:
                - this.actor.tell(dialogue.characters, message.vocal(this.label))
                - character.aliased('VOLO').learn(this.actor.name)
              outcome:
                - actor: character.aliased('VOLO')
                  label: >
                    '
                      I am a reasonably well known ' ~ this.actor.role ~ '.
                      I am surprised you did not hear of my deeds.
                    '
                  action:
                    - this.actor.tell(dialogue.characters, message.vocal(this.label))
                    - character.player().learn(this.actor.role)
                    # - dialogue.interact('QUESTIONS')

                  feedback:

                    - actor: character.player()
                      label: >
                        '
                          You are a famous bard.
                          Could you teach me some love songs?
                        '
                      condition: >
                        actor
                          .feels(emotion.aliased('LUST'))
                          .towards(character.aliased('ANABELE'))
                      action: this.actor.tell(dialogue.characters, message.vocal(this.label))

            - actor: character.player()
              label: >
                '
                  Nice to meet you stranger. Please forgive me my interruption.
                  I am in a hurry and I must go.
                '
              action: this.actor.tell(dialogue.characters, message.vocal(this.label))
              outcome:
                - action: dialogue.end()
